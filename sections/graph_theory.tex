\section{Graph Theory}
\label{sec:graph_theory}

 The isolation forest is composed of trees that are, in fact, directed graphs.
 Hence, the theoretical framework used in this article is centred mainly around graph theory.
 The definitions used in this section are based on Rosen et~al. \cite{rosen2012discrete}. 


\begin{definition}
 \emph{Directed graph} (or digraph) $D = (V, E)$ consists of a nonempty set of vertices $V$ and a set of directed edges $E \in V \times V$.
 Each directed edge is an ordered pair of vertices.
 The directed edge $(u, v)$ is said to start at $u$ and end at $v$.
\end{definition}


%\begin{definition}
 For the digraph $D = (V,E)$ we define:
\begin{description}
    \item[Descendant] of a vertex $v \in V$ is a vertex $v' \in V$ such that $(v,v') \in E$. 
    We say that $v$ is the \emph{ancestor} associated with $v'$.
    \item[Walk] $W$ from a vertex $v_0 \in V$ to a vertex $v_n \in V$ is a finite set of edges ($W \subseteq E$), such that $$W = \{(v_0, v_1),(v_1, v_2),\dots(v_{n-1}, v_n)\}.$$
    The empty set $W = \emptyset$ is a trivial walk from $v$ to $v$ for every $v \in V$. 
\end{description}
%\end{definition}

With the isolation tree starting at the root, we define a rooted tree.

\begin{definition}
\emph{Rooted} tree is the digraph $T = (V,E)$ with a single vertex $r \in V$ designated as the \emph{root}, with exactly one walk (so-call \emph{path}) from $r$ to $v$ for each $v \in V$.
\end{definition}

To be able to evaluate the isolation tree, we have to define several tree-specific attributes.

%\begin{definition}
For the rooted tree $T = (V,E)$ we define:
\begin{description}
    \item[Depth] of $v \in V$ is the size of the path from the root to $v$.
    \item[Leaf] is a vertex $v \in V$ that has no descendants. 
    \item[Internal] vertex conversely has a descendant.
    \item[To traverse] a tree $T$ is to take a path $P$ from the root to the leaf. If $(v,v') \in P$, we say that we \emph{visit} $v$ and $v'$ while traversing.
\end{description}
%\end{definition}
